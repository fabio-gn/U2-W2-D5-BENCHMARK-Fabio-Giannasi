<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="./assets/css/styles.css">
  </head>
  <body class="bg-black text-white">
    <!-- NAVBAR -->
    <nav
      class="navbar navbar-dark navbar-expand-lg bg-black container-fluid container-lg"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img
            class=""
            src="./assets/netflix_logo.png"
            alt="Logo"
            height="50"
            class="d-inline-block align-text-top"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div id="primary-nav" class="navbar-nav">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
            <a class="nav-link" href="#">TV Shows</a>
            <a class="nav-link" href="#">Movies</a>
            <a class="nav-link">Recently Added</a>
            <a class="nav-link">My List</a>
          </div>
        </div>

        <div id="secondary-nav" class="navbar-nav d-none d-lg-flex">
          <a class="nav-link" href="#"><i class="fas fa-search"></i></a>
          <a class="nav-link" href="#">KIDS</a>
          <a class="nav-link" href="#">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-bell-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"
              />
            </svg>
          </a>
          <a class="nav-link" href="./pages/profile.html"
            ><img src="./assets/avatar.png" alt="" style="height: 2rem"
          /></a>
        </div>
      </div>
    </nav>

    <main>
      <div class="container">
        <div class="row align-items-center mb-4 justify-content-between">
        <div class="d-flex gap-4 col-10">
          <div style="width: fit-content">
            <h1 class="fs-2">TV Shows</h1>
          </div>
          <div style="width: fit-content">
            <select
              class="form-select col-1 input-bg-primary rounded-0"
              aria-label="Default select example"
              style="
              color: white;
              border: 2px solid white;
              background-color: black;
              font-weight: bold;
              padding-right: 1rem;
              "
            >
              <option selected>Genres  ▼ </option>
              <option value="1">One</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
            </select>
          </div>
        </div>
          <div class="btn-group col-1" role="group" aria-label="Basic outlined example">
            <button type="button" class="btn btn-outline-light rounded-0 fs-6"><i class="fas fa-align-left"></i></button>
            <button type="button" class="btn btn-outline-light rounded-0"><i class="fas fa-th"></i></button>
            
          </div>
        </div>
      </div>

      <!-- CARDS -->
      <div class="container-fluid d-flex flex-column">
        <section class="trending">
          <div class="container">
            <div class="row"><h2>Trending Now</h2></div>
            <button class="scroll-left btn-dark">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="scroll-right btn-dark">
              <i class="fas fa-chevron-right"></i>
            </button>
            <div
              id="trending-slide"
              class="trending-slide row flex-nowrap overflow-x-scroll"
              style="scroll-behavior: smooth"
            >
              <!-- <div class="card" style="width: 18rem">
                <img
                src="./assets/media/media12.jpg"
                class="card-img-top"
                alt="..."
                style="width: 100%; height: 100%; object-fit: cover"
                />
            </div> -->
            </div>
          </div>
        </section>

        <section class="whatch-again mt-3">
          <div class="container">
            <div class="row"><h2>Whatch it Again</h2></div>
            <button class="scroll-left btn-dark">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="scroll-right btn-dark">
              <i class="fas fa-chevron-right"></i>
            </button>
            <div
              id="whatch-again"
              class="trending-slide row flex-nowrap overflow-x-scroll"
              style="scroll-behavior: smooth"
            ></div>
          </div>
        </section>

        <section class="new-releases mt-3">
          <div class="container">
            <div class="row"><h2>New Releases</h2></div>
            <button class="scroll-left btn-dark">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="scroll-right btn-dark">
              <i class="fas fa-chevron-right"></i>
            </button>
            <div
              id="new-releases"
              class="trending-slide row flex-nowrap overflow-x-scroll"
              style="scroll-behavior: smooth"
            ></div>
          </div>
        </section>
      </div>
    </main>
    <footer>
      <div class="container mt-5">
        <div class="row justify-content-center ">
          <div class="col-lg-8">
            <div class="row">
              <div class="col">
                <a class="text-decoration-none text-light fs-2 " href=""
                  ><i class="fab fa-facebook-square"></i
                ></a>
                <a class="text-decoration-none text-light fs-2 ms-3" href=""
                  ><i class="fab fa-instagram-square"></i
                ></a>
                <a class="text-decoration-none text-light fs-2 ms-3" href=""
                  ><i class="fab fa-twitter"></i
                ></a>
                <a class="text-decoration-none text-light fs-2 ms-3" href=""
                  ><i class="fab fa-youtube"></i
                ></a>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col">
                <a class="text-light d-block text-decoration-none">Audio and Subtitles</a>
                <a class="text-light d-block text-decoration-none">Media Center</a>
                <a class="text-light d-block text-decoration-none">Privacy</a>
                <a class="text-light d-block text-decoration-none">Contact Us</a>
                <button type="button" class="btn btn-outline-light rounded-0 mt-3">
                  Service Code
                </button>
              </div>
              <div class="col">
                <a class="text-light d-block text-decoration-none" href=""> Audio Description </a>
                <a class="text-light d-block text-decoration-none" href=""> Investor Relations </a>
                <a class="text-light d-block text-decoration-none" href=""> Legal Notices </a>
              </div>
              <div class="col">
                <a class="text-light d-block text-decoration-none" href=""> Help Center </a>
                <a class="text-light d-block text-decoration-none" href=""> Jobs </a>
                <a class="text-light d-block text-decoration-none" href=""> Cookie Preferences </a>
              </div>
              <div class="col">
                <a class="text-light d-block text-decoration-none" href=""> Gift Cards </a>
                <a class="text-light d-block text-decoration-none" href=""> Terms of Use </a>
                <a class="text-light d-block text-decoration-none" href=""> Corporate Performances </a>
              </div>
            </div>
            <div class="row">
              <p class="mt-4">
                ©1997-<span>2019</span> Netflix.Inc [ewjbkrdflefknlòeflknsnl]
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script>
      //funzione per caricare le immagini card nei caroselli
      const populateCards = function (start, end, referenceId) {
        // controllo che non vengano inseriti valori pericolosi per loop infiniti
        if (end > start && start >= 0) {
          let cardsContainer = document.getElementById(referenceId);
          let webpArray = [
            0, 2, 3, 5, 7, 8, 14, 16, 19, 21, 22, 23, 25, 26, 31,
          ]; //array coi valori delle immagini webp
          let trueFalseArray = []; //array che ospiterà valori true e false: true == webp; false == jpg

          //loop per creare un array di 33 valori (numero delle immagini) true e false per il prossimo ciclo che deciderà
          //se un immagine è jpg o webp
          for (let i = 0; i < 33; i++) {
            webpArray.forEach((num, j) => {
              if (i === webpArray[j]) {
                trueFalseArray.push(true);
              }
            });
            if (!trueFalseArray[i]) {
              trueFalseArray.push(false);
            }
          }
          //ciclo per popolare dinamicamente le card tenendo conto del loro formato (jpg o webp)
          //true = webp
          //false = jpg
          for (let i = start; i < end; i++) {
            if (trueFalseArray[i]) {
              let card = document.createElement("div");
              card.classList.add("card", "bg-black", "border-0","rounded-0");
              card.setAttribute("style", "width: 15rem");
              card.innerHTML = `

            
              <img
                src="./assets/media/media${i}.webp"
                class="card-img-top rounded-0"
                alt="..."
                style="width: 100%; height: 100%; object-fit: cover"
              />
            
                            `;
              cardsContainer.appendChild(card);
            } else {
              let card = document.createElement("div");
              card.classList.add("card", "bg-black", "border-0", "rounded-0");
              card.setAttribute("style", "width: 15rem");
              card.innerHTML = `

            
              <img
                src="./assets/media/media${i}.jpg"
                class="card-img-top rounded-0"
                alt="..."
                style="width: 100%; height: 100%; object-fit: cover"
              />
            
                            `;
              cardsContainer.appendChild(card);
            }
          }
        } else {
          console.log("errore");
        }
        let scrollLeftButtons = document.getElementsByClassName("scroll-left");
        scrollLeftButtons = Array.from(scrollLeftButtons);
        scrollLeftButtons.forEach(function (btn) {
          btn.addEventListener("click", function () {
            let contenitoreScroll =
              this.parentElement.querySelector(".trending-slide");
            let x = contenitoreScroll.scrollLeft;
            contenitoreScroll.scrollLeft = x - 800;
            // let scroll = this.parentElement.querySelector('#trending-slide').scrollX
            // console.log(scroll)
          });
        });

        let scrollRightButtons =
          document.getElementsByClassName("scroll-right");
        scrollRightButtons = Array.from(scrollRightButtons);
        scrollRightButtons.forEach(function (btn) {
          btn.addEventListener("click", function () {
            let contenitoreScroll =
              this.parentElement.querySelector(".trending-slide");
            console.log(contenitoreScroll);
            let x = contenitoreScroll.scrollLeft;
            console.log(x);
            contenitoreScroll.scrollLeft = x + 800;
            // let scroll = this.parentElement.querySelector('#trending-slide').scrollX
            // console.log(scroll)
          });
        });
      };

      populateCards(0, 11, "trending-slide");
      populateCards(11, 21, "whatch-again");
      populateCards(21, 33, "new-releases");
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
